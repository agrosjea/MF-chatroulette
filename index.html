<html>
	<head>
		<meta name="viewport" content="width=device-width">
		<title>CampusRoulette</title>
		<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">		
		<link href="css/main.css" rel="stylesheet">		
	</head>
	<body>

		<div class="container" ng-app="app" ng-controller="MainCtrl" ng-cloak>
			<div class="page-header">
				<h1>WebRTC Roulette</h1>
			</div>
			<div class="alert alert-danger" ng-show="noWebRTC">
				Sorry, your browser doesn't support WebRTC! Please use a <a href="http://en.wikipedia.org/wiki/WebRTC#Support">supported browser</a>.<br>
				Please note that mobile browsers are not supported at this time.
			</div>
			<div class="alert alert-danger" ng-show="isMobile">
				Looks like you're using a mobile browser. Unfortunately, due to compatibility issues, mobile browsers are not supported at this time. 
			</div>
			<div class="alert alert-danger" ng-show="gumDenied">
				If you won't give us access to your webcam, we won't give you access either!	
			</div>
			<div class="alert alert-info" ng-show="!connected">
				<span class="glyphicon glyphicon-signal"></span> Establishing connection to server...
			</div>
			<div class="alert alert-danger" ng-show="closed">
				The connection to the server was lost. Try refreshing the page.
			</div>
			<div ng-show="supported">
				<button class="btn btn-primary" ng-disabled="connected && !waiting" ng-click="nextUser()">Next user</button>
				<input type="checkbox" ng-model="muteVideo" ng-change="toggleLocalStream('video')"> Mute my video
				<input type="checkbox" ng-model="muteAudio" ng-change="toggleLocalStream('audio')"> Mute my audio
				<div style="margin-top: 1em;"></div>
				<div class="alert alert-info" ng-show="connected && waiting && !closed">
				<span class="glyphicon glyphicon-time"></span> Waiting for another user...
				</div>
				<div class="alert alert-success" ng-show="connected && !waiting">
					<span class="glyphicon glyphicon-ok"></span> CONNECTED
				</div>
				<div class="row">
					<div class="col-md-6">
						<h1>You</h1>
						<video id="local-video" class="webcam" autoplay muted></video>
					</div>
					<div class="col-md-6">
						<h1>Not You</h1>
						<video id="remote-video" class="webcam" autoplay poster="img/video-placeholder.png"></video>
					</div>
				</div>
				<div class="row">
					<div id="chat-messages">
						<p ng-repeat="m in messages">{{ m }}</p>
					</div>
					<input id="chat-submit" type="text" class="form-control">
				</div>
			</div>

			<hr>
			<footer>
				<p>(C) 2014 <a href="https://github.com/kz26">Kevin Zhang</a></p>
			</footer>
		</div>

		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
		<script src="js/webrtc-adapter.js"></script>
		<script src="https://d1fxtkz8shb9d2.cloudfront.net/sockjs-0.3.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.0/moment.min.js"></script>
		<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.7/angular.min.js"></script>
		<script src="js/app.js"></script>
	</body>
</html>
